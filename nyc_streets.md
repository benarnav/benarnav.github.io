---
title: Understanding New York's Street Safety Crisis
layout: page
---
Here's a version of this research published in the journal [Vital City](). And if you'd like to see the code/data behind this, [click here](https://github.com/benarnav/nyc_streets/).
<br>
<h2>tl;dr</h2>
New York City's streets are a pretty crazy place, they can be fun and exciting, but also dangerous. Amid a steady increase in complaints by ordinary citizens, police enforcement has plummeted all while there's been a surge in illegal gas-powered mopeds taking to the streets. Here are some things I found:

+ <u>Cops don't always do what they say they do:</u> In <b>more than a third</b> of cases where police say they wrote a ticket after someone complained about illegal parking in the past decade, no matching summons could be found.
+ <u>The NYPD doesn't enforce the law on itself:</u> Less than 2 percent of illegal parking complaints filed within a block of a police precinct resulted in a ticket over the same period, with many officer's [chronically parking](https://www.sciencedirect.com/science/article/pii/S2590198223000635?via%3Dihub) on sidewalks and in bike lanes.
+ <u> Complaints are up, enforcement is down:</u> Complaints about illegal parking have increase more than seven fold between 2014 and 2023, while
tickets issued by police officers have dropped by 69 percent.
+ <u>A moped illegally crosses the 59th Street Bridge every five minutes:</u> I trained a custom object detection model using existing traffic cameras and recorded mopeds frequently crossing the span shared with pedestrians and cyclists. That's dangerous! And illegal!
+ <u>Car crashes and complaints are linked:</u> There is a positive correlation between the location of vehicle crashes where at least one person was injured or killed and the number of 311 complaints about illegal parking, faulty traffic signals and street lighting.
+ <u></u>

<h2>Background: Lack of Enforcement</h2>
<iframe title="As Illegal Parking in NYC Grows, the Police Issue Fewer Tickets" aria-label="Interactive line chart" id="datawrapper-chart-mr9s9" src="https://datawrapper.dwcdn.net/mr9s9/4/" scrolling="no" frameborder="0" style="width: 0; min-width: 100%" height="400" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r=0;r<e.length;r++)if(e[r].contentWindow===a.source){var i=a.data["datawrapper-height"][t]+"px";e[r].style.height=i}}}))}();
</script>
<br>

I found that the police have been doing less enforcement, especially when it comes to complaints generated by local residents. I built a custom dataset to better understand traffic injuries and fatalities using machine learning. Finally, to illustrate the chaos that is felt on the streets I  trained a custom AI object detection model using a network of existing traffic  cameras to show how illegal gas-powered mopeds increasingly use space reserved for pedestrians and cyclists.

In the past decade, the NYPD has dramatically reduced enforcement of traffic and parking violations, leading to a dangerous environment on New York's streets. Like many cities in the United States, New York operates a hotline at 311 for citizens to file complaints or access a variety of city services. When a complaint is made about illegal parking, it is routed to the police.

Police also often refuse to follow the law themselves when it comes to illegal parking. The streets around police stations have become clogged with officers' personal vehicles, sometimes rendering the sidewalk impassible, forcing pedestrians, wheelchair users and parents with strollers into the streets. New Yorkers are clearly frustrated by this chronic issue, and have repeatedly filed complaints to 311, but despite this surge less than 2 percent of illegal parking complaints within a one block radius of police precincts have resulted in a ticket.
<br>
<iframe title="The NYPD Rarely Issues Parking Tickets Within One Block of a Precinct Despite Frequent Citizen Complaints" aria-label="Interactive line chart" id="datawrapper-chart-RsKLv" src="https://datawrapper.dwcdn.net/RsKLv/4/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none; min-height: 50%;" height="650" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r=0;r<e.length;r++)if(e[r].contentWindow===a.source){var i=a.data["datawrapper-height"][t]+"px";e[r].style.height=i}}}))}();
</script>
<br>

<h2>Missing Summonses</h2>
I'll confess I am one of those people who occasionally files illegal parking complaints. I've filed complaints where the resolution says a ticket was issued, but when I try to find the summons in city records, it isn't there. This lead me to cross reference 311 data with Department of Finance records of parking tickets. The only way to match these was by address, since the 311 complaints do not have vehicle indentifiers like a license plate number. While both summons and 311 records both have address information, the multiple spellings of things like "Ave" vs "Avenue" could cause issues, on top of freuqent mispellings. To overcome this I translated 311 address information into [street codes](https://nycplanning.github.io/Geosupport-UPG/chapters/chapterIV/section03/), a system for normalizing this information. These codes are already present for each summons.
<br>
<iframe title="A Growing Gap Between NYPD Claims and City Records on Illegal Parking Complaints" aria-label="Interactive line chart" id="datawrapper-chart-KN15L" src="https://datawrapper.dwcdn.net/KN15L/2/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="200" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r=0;r<e.length;r++)if(e[r].contentWindow===a.source){var i=a.data["datawrapper-height"][t]+"px";e[r].style.height=i}}}))}();
</script>
<br>
I experimented with different methods, taking into account the time difference between when the 311 complaint was closed and when the ticket was issued, but this could lead to false negatives. Despite this, I found that in the past decade more than a third of the tickets the police claim to have written in response to illegal parking complaints cannot be found in Department of Finance records. Overall if the data is taken on its face value, it shows since 2014 about 15 percent of parking complaints led to the cops writing a ticket. On closer inspection after taking into account complaints that could not be matched to a summons, that number drops to 10 percent. If data is unreliable then so are the policy decisions based on it.

## Quantifying the Surge of Illegal Mopeds

This has come at a time when New York's streets have seen a surge in e-bikes and often illegal gas-powered mopeds, mostly caused by an increase in food delivery. The vast majority of scooters are not registered, do not have license plates and use bike lanes illegally. There has been a flurry of [anecdotal evidence](https://www.curbed.com/2023/10/bike-lane-manhattan-queensboro-bridge-cyclists-crashes.html) of crashes and close calls, with some deciding to forgo cycling in response.

To better asses the problem, I built an object detection model using footage from NYC Department of Transportation cameras to show the proliferation of mopeds being driven where they shouldn't. It revealed mopeds riding in bike lanes, pedestrian plazas and across bridges in space meant for non-motorized travel. It's imperfect but allows us to begin to understand the problem and formulate solutions beyond occasional [police stings](https://www.thecity.nyc/2023/09/07/migrant-moped-nypd-raid-tasers/) that burden some of the most vulnerable New Yorkers.
<figure style="text-align: center;">
  <a href="/assets/img/moped_examples_citywide.jpg">
    <img style="max-width: 700px;" src="/assets/img/moped_examples_citywide.jpg" alt="mopeds found using object detection" />
  </a>
  <figcaption>(Results from the object detection model)</figcaption>
</figure>
In one particularly dangerous crossing, the shared pedestrian/bicycle path across the Queensboro Bridge, I recorded one moped roughly every five minutes using the narrow span. That essentially guarantee encountering one since it typically takes longer to cross the bridge by foot or bicycle.

Although access to the DOT camera feeds is supposed to be [available to the public](https://webcams.nyctmc.org/subscribers), I was not given access despite repeated attempts. To overcome this, I built a web scraper to download static images every two to four seconds, and to cycle through a series of cameras to capture various locations. There was minimal loss of information in this method since the cameras only produce still images every two seconds. 

## A Machine Learning Approach to Traffic Safety

Machine learning models are becoming [increasingly popular](https://www.sciencedirect.com/science/article/pii/S2095756420301410?ref=pdf_download&fr=RR-2&rr=829af43178be4282) for use in traffic modeling, where traditionally statistical models were used. In order to understand what New York City could do to increase safety, I built a custom dataset that included features such as distance from a speed camera, if the crash was near a traffic calming project or if the crash occurred within zones targeted by city officials for safety improvements. I also included demographic features to see if commuting patterns and wealth could be contributing factors. I also included the number of complaints to the city’s municipal hotline, NYC311, within a 100 meter radius, as I found there is a positive spatial autocorrelation.

A major challenge is the imbalanced nature of the dataset, where (thankfully) only about 1 percent of crashes were fatal. This was overcome with a combination of under sampling the majority class and over sampling the minority with SMOTE to create a 2:1 ratio in the training data. Further experimentation showed improved performance for the Logistic Regression model when only using random under sampling. I also experimented with [using SMOTEBoost](https://www3.nd.edu/~nchawla/papers/ECML03.pdf), which combines the SMOTE algorithm and boosting classifiers. While there are many other ways to overcome imbalances in data, these were selected for achieving improved results given the available compute.

After trying a range of models and sampling techniques, a Catboost classifier was selected based on it achieving the highest average precision score. A Logistic Regression model was also trained due to achieving the highest recall, although for real-world deployment the Catboost model would be more appropriate.  

Interpreting the model using SHAP values showed the single most important feature for predicting a fatal crash being is the age of the victim. That older people tend to die when hit by a vehicle in unsurprising but still relevant for decreasing collision fatalities. Transportation planners could focus on locations where older people were hit to learn more about how to prevent deaths in the future.

A particular interaction that was revealing was related to public transportation use in the area where a crash occurred. If a collision happened in a zip code where a higher percentage of people commute by public transport, it pushed the prediction of the Catboost model toward classifying the crash as non-fatal. Moreover, these zip codes also tended to have more complaints to 311 within the vicinity of a crash. This could suggest more citizen complaints would invite greater traffic enforcement, although more detailed research would be necessary to establish this. 
<figure style="text-align: center;">
  <a href="/assets/img/nyc_streets_shap_plots.png">
    <img style="max-width: 700px;" src="/assets/img/nyc_streets_shap_plots.png" alt="shap plots for four features" />
  </a>
  <figcaption>(SHAP plots for four features)</figcaption>
</figure>
In 2014, New York City implemented the Vision Zero program, aiming to eliminate all traffic deaths and serious injuries by 2024. As part of his program the Department of Transportation has created several zones marked as "priority" under the program. If a crash was outside these zones, it contributed to the model predicting a fatal crash, while collisions inside these zones had the opposite effect. And while automated enforcement of speeding and running red lights with cameras has decreased this dangerous behavior according to city studies, proximity to a cameras was associated with increasing the likelihood of a fatal prediction. This could be a sign to transportation planners to focus on other measures near cameras to improve safety.  

<h2>Next Steps, Improvements, Recommendations</h2>
+ Cameras meant for monitoring bike lanes should be widely installed and paired with software to track vehicle types. New York's DOT already has a [pilot program](https://www.curbed.com/2023/04/nyc-dot-street-sensors-viva.html), but there aren't many details.
+ New York should allow automated ticketing for bike lanes, as it already does for bus lanes. Studies of the city's [red light and speed cameras](https://home.nyc.gov/html/dot/downloads/pdf/speed-camera-report.pdf) have already proven it has an impact on safety.
+ Police should be required to input the summons number when closing a 311 complaint where they claim to have written a ticket. This would allow for better tracking and greater accountability and transparency.
+ New York State lawmakers must immediately close a loophole that allows mopeds to be sold unregistered. New York City must make a push to resister the currently illegal mopeds that are already in use throughout the city. So far punitive measures that focus on police confiscating illegal mopeds have not been effective.
+ The machine learning model could be improved in various ways depending on stakeholder needs. In a future version I would want to change it to a multiclassificaiton problem with the minimum categories being: property damage only, injured, severely injured, and killed. New York's Department of Transportation has a program for reporting [more granular](https://www.nyc.gov/html/dot/downloads/pdf/sirta-report-q2-2023.pdf) injury statistics, but it only began reporting in 2022.




